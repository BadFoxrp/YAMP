/* 
 -------------------------------------------------
 YAMP Nextflow base config file
 -------------------------------------------------

 A 'blank slate' config file, appropriate for general
 use on most high performace compute environments.

 Assumes that all software is installed and available
 on the PATH. Runs in `local` mode - all jobs will be
 run on the logged in environment.
*/

params 
{
    config_profile_name        = 'Default profile'
    config_profile_description = 'YAMP default workflow'
		
	
			
	/*--------------------------------*
	 *	PATHS TO EXTERNAL RESOURCES
	 *--------------------------------*/
		
	//Adapter sequences and synthetic contaminants to be removed in the trimming step
	adapters="./resources/adapters.fa"	
	artifacts="./resources/sequencing_artifacts.fa.gz"
	phix174ill="./resources/phix174_ill.ref.fa.gz"	
	
	//Reference pan-genome for contamination. It should have been indexed beforehand.
	refForeingGenome="./resources/"
	
	//BowTie2 database for MetaPhlAn2
	mpa_pkl="./resources/bowtie2db/db_v20/mpa_v20_m200.pkl"
	bowtie2db="./resources/bowtie2db/db_v20/"
	bowtie2dbfiles="mpa_v20_m200"
	
	// ChocoPhlAn and UniRef databases
	chocophlan="./resources/chocophlan"
	uniref="./resources/uniref90/"	
	
	//[OPTIONAL]
    //Newick tree filepath, required for phylogenetic alpha diversity (PD_whole_tree, QIIME)
	treepath="null" 
	
}

process 
{
	withName: qualityAssessment
	{
		time =  '15m'
		cpus = 4
		memory = '8 GB'	  
	}
	
	withName: dedup
	{
		time =  '1h'
		cpus = 4
		memory = '32 GB'  
	}	
	
	withName: trim 
	{
		time =  '1h'
		cpus = 4
		memory = '32 GB'  
	}	
	
	withName: decontaminate 
	{
		time =  '3h'
		cpus = 4
		memory = '32 GB'  
	}
	
	withName: profileTaxa 
	{
		time =  '2h'
		cpus = 4
		memory = '32 GB'  
	}
	
	withName: alphaDiversity
	{
		time =  '30m'
		cpus = 1
		memory = '8 GB'	  
	}
	
	withName: profileFunction 
	{
		time =  '24h'
		cpus = 4
		memory = '32 GB'  
	}	
	
	withName: logQC
	{
		time =  '15m'
		cpus = 1
		memory = '100 MB'  
	}
	
	withName: saveQCtmpfile
	{
		time =  '1h'
		cpus = 1
		memory = '4 GB'	  
	}	
	
	withName: logCC
	{
		time =  '15m'
		cpus = 1
		memory = '100 MB'	  
	}	
	
	withName: saveCCtmpfile
	{
		time =  '15m'
		cpus = 1
		memory = '100 MB'	  
	}		
}
